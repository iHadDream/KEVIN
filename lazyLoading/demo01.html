<!DOCTYPE html>
<html>
<head>
	
	<title>lazyload</title>
	<style type="text/css">
		img{
			display: block;
			margin-left: auto;
			margin-right: auto;
			margin-bottom: 50px;
			height: 200px;
		}
	</style>
</head>
	
<body>
	<img src="img/loading.jpg" data-src="img/1.jpg">

	<img src="img/loading.jpg" data-src="img/2.jpg">

	<img src="img/loading.jpg" data-src="img/3.jpg">

	<img src="img/loading.jpg" data-src="img/4.jpg">

	<img src="img/loading.jpg" data-src="img/5.jpg">

	<img src="img/loading.jpg" data-src="img/6.jpg">

	<img src="img/loading.jpg" data-src="img/7.jpg">

	<img src="img/loading.jpg" data-src="img/8.jpg">

	<img src="img/loading.jpg" data-src="img/9.jpg">

	<img src="img/loading.jpg" data-src="img/10.jpg">

	<img src="img/loading.jpg" data-src="img/11.jpg">

	<img src="img/loading.jpg" data-src="img/12.jpg">

	<img src="img/loading.jpg" data-src="img/13.jpg">

	<img src="img/loading.jpg" data-src="img/14.jpg">

	<img src="img/loading.jpg" data-src="img/15.jpg">

	<script type="text/javascript">
	 	function lazyLoad(){
	 		var images = document.getElementsByTagName("img");
	 		var len = images.length;
	 		var n = 0; //存储图片加载到的位置，避免每次都从第一张图片开始遍历
	 		return function(){
	 			var seeHeight = document.documentElement.clientHeight;
	 			var scrollTop = document.documentElement.scrollTop||document.body.scrollTop;
	 			for(var i=n;i<len;i++){
	 				if(images[i].offsetTop < seeHeight + scrollTop){
	 					if(images[i].getAttribute("src") === 'img/loading.jpg'){
	 						images[i].src = images[i].getAttribute('data-src');
	 					}
	 					n++;
	 				}

	 			}
	 		}
	 	}
	 	var loadImages = lazyLoad();
	 	loadImages(); //初始化首页的页面图片
	 	window.addEventListener("scroll",loadImages,false);
	</script>
</body>
</html>